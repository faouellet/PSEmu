#include "memorymap.h"

namespace PSEmu
{

const uint32_t BIOS_ADDRESS{0x1FC00000};
const uint32_t EXPANSION_MAPPING_ADDRESS{0x1F801000};
const uint32_t RAM_SIZE_ADDRESS{0x1F801060};
const uint32_t RAM_ADDRESS{0x00000000};
const uint32_t CACHE_CONTROL_ADDRESS{0xFFFE0130};
const uint32_t SPU_ADDRESS{0x1F801C00};
const uint32_t EXPANSION_1_ADDRESS{0x1F000000};
const uint32_t EXPANSION_2_ADDRESS{0x1F802000};
const uint32_t IRQ_CONTROL_ADDRESS{0x1F801070};
const uint32_t TIMERS_ADDRESS{0x1F801100};
const uint32_t DMA_ADDRESS{0x1F801080};
const uint32_t GPU_ADDRESS{0x1F801810};

const uint32_t BIOS_SIZE{512 * 1024};
const uint32_t RAM_SIZE{2 * 1024 * 1024};

const Utils::Range BIOS_RANGE{BIOS_ADDRESS, BIOS_SIZE};
const Utils::Range MEMCONTROL_RANGE{EXPANSION_MAPPING_ADDRESS, 36};
const Utils::Range RAM_RANGE{RAM_ADDRESS, RAM_SIZE};
const Utils::Range RAM_SIZE_RANGE{RAM_SIZE_ADDRESS, 4};
const Utils::Range CACHE_CONTROL_RANGE{CACHE_CONTROL_ADDRESS, 4}; // Ignored for now
const Utils::Range SPU_RANGE{SPU_ADDRESS, 640};
const Utils::Range EXPANSION_1_RANGE{EXPANSION_1_ADDRESS, 8 * 1024 * 1024};
const Utils::Range EXPANSION_2_RANGE{EXPANSION_2_ADDRESS, 66};
const Utils::Range IRQ_CONTROL_RANGE{IRQ_CONTROL_ADDRESS, 8};
const Utils::Range TIMERS_RANGE{TIMERS_ADDRESS, 0x80};
const Utils::Range DMA_RANGE{DMA_ADDRESS, 0x74};
const Utils::Range GPU_RANGE{GPU_ADDRESS, 0x8};

const std::array<uint32_t, 8> REGION_MASK{
    // KUSEG: 2048MB
    0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
    // KSEG0: 512MB
    0x7FFFFFFF,
    // KSEG1: 512MB
    0x1FFFFFFF,
    // KSEG2: 1024MB
    0xFFFFFFFF, 0xFFFFFFFF
};

} // end namespace PSEmu
